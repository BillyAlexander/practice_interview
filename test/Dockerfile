FROM eclipse-temurin:17-jre
WORKDIR /app

# Copia el JAR compilado
COPY target/test-0.0.1-SNAPSHOT.jar app.jar


# Variables de entorno 
ENV JDBC_DATABASE_URL=${JDBC_DATABASE_URL} \
    JDBC_DATABASE_DRIVER=${JDBC_DATABASE_DRIVER} \
    JDBC_DATABASE_USER=${JDBC_DATABASE_USER} \
    JDBC_DATABASE_PASSWORD=${JDBC_DATABASE_PASSWORD}\
    HIBERNATE_DDL_AUTO=${HIBERNATE_DDL_AUTO} \
    HIBERNATE_SHOW_SQL=${HIBERNATE_SHOW_SQL} \
    HIBERNATE_SHOW_DIALECT=${HIBERNATE_SHOW_DIALECT} \
    URL_SERV_COLORS=${URL_SERV_COLORS}

EXPOSE 8080

CMD ["java", "-jar", "app.jar"]